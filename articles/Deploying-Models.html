<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html lang="en">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Deploying Microsoft Syntex Models | PnP Syntex Samples </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Deploying Microsoft Syntex Models | PnP Syntex Samples ">
    <meta name="generator" content="docfx 2.56.5.0">
    <meta name="description" content="This repository contains community samples that demonstrate different usage patterns and templates for Microsoft SharePoint Syntex.">
    <link rel="shortcut icon" href="https://c.s-microsoft.com/favicon.ico?v2">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    <meta property="docfx:newtab" content="true">
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <!--
        <a class="navbar-brand" href="../index.html">
          <img id="logo" class="svg" src="../logo.svg" alt="" >
        </a>
        -->
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <label class="glyphicon glyphicon-search" for="search-query"></label>
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
                  <div class="contribution-panel mobile-hide pull-right">
                      <a href="https://github.com/pnp/syntex-samples/blob/main/docs/articles/Deploying-Models.md/#L1" title="Improve this Doc" class="improve-doc-lg"><i class="glyphicon glyphicon-pencil"></i></a>
                  </div>
                    <h1 id="deploying-microsoft-syntex-models">Deploying Microsoft Syntex Models</h1>

<p>Microsoft Syntex Models typically are deployed to document libraries across your tenant. This can be done by using the Content Center site, but this can also be done using <a href="https://pnp.github.io/powershell/">PnP PowerShell</a> as explained in this article. If you want to work with Microsoft Syntex models via code then check out the <a href="https://pnp.github.io/pnpcore/using-the-sdk/syntex-intro.html">Working with Microsoft Syntex</a> support for <a href="https://aka.ms/pnp/coresdk">PnP Core SDK</a>.</p>
<h2 id="listing-the-available-models-in-a-content-center">Listing the available models in a Content Center</h2>
<p>To get an overview of the models added to the current Microsoft Syntex Content Center site use the <a href="https://pnp.github.io/powershell/cmdlets/Get-PnPSyntexModel.html">Get-PnPSyntexModel</a> cmdlet:</p>
<pre><code class="lang-PowerShell">Connect-PnPOnline -Url &quot;https://contoso.sharepoint.com/sites/yourContentCenter&quot;
Get-PnPSyntexModel
</code></pre>
<h2 id="deploying-a-given-model-to-a-library">Deploying a given model to a library</h2>
<p>To deploy a model to a library you can use <a href="https://pnp.github.io/powershell/cmdlets/Publish-PnPSyntexModel.html">Publish-PnPSyntexModel</a> cmdlet:</p>
<pre><code class="lang-PowerShell">Connect-PnPOnline -Url &quot;https://contoso.sharepoint.com/sites/yourContentCenter&quot;
Publish-PnPSyntexModel -Model &quot;Contract Notice&quot; -ListWebUrl &quot;https://contoso.sharepoint.com/sites/finance&quot; -List &quot;Documents&quot;
</code></pre>
<p>Above sample deployed the &quot;Contract Notice&quot; model a single document library but if you need to deploy a model to many libraries it's more efficient to use to built-in batch feature:</p>
<pre><code class="lang-PowerShell">Connect-PnPOnline -Url &quot;https://contoso.sharepoint.com/sites/yourContentCenter&quot;

# Create a new batch
$batch = New-PnPBatch

# Add model deployments to the batch
Publish-PnPSyntexModel -Model &quot;Contract Notice&quot; -TargetSiteUrl &quot;https://contoso.sharepoint.com/sites/finance&quot; -TargetWebServerRelativeUrl &quot;/sites/finance&quot; -TargetLibraryServerRelativeUrl &quot;/sites/finance/shared%20documents&quot; -Batch $batch
Publish-PnPSyntexModel -Model &quot;Contract Notice&quot; -TargetSiteUrl &quot;https://contoso.sharepoint.com/sites/crm&quot; -TargetWebServerRelativeUrl &quot;/sites/crm&quot; -TargetLibraryServerRelativeUrl &quot;/sites/crm/shared%20documents&quot; -Batch $batch
Publish-PnPSyntexModel -Model &quot;Contract Notice&quot; -TargetSiteUrl &quot;https://contoso.sharepoint.com/sites/finance&quot; -TargetWebServerRelativeUrl &quot;/sites/finance/belgium&quot; -TargetLibraryServerRelativeUrl &quot;/sites/finance/belgium/shared%20documents&quot; -Batch 
Publish-PnPSyntexModel -Model &quot;Contract Notice&quot; -TargetSiteUrl &quot;https://contoso.sharepoint.com/sites/finance&quot; -TargetWebServerRelativeUrl &quot;/sites/finance/uk&quot; -TargetLibraryServerRelativeUrl &quot;/sites/finance/uk/shared%20documents&quot; -Batch $batch

# Execute batch
Invoke-PnPBatch -Batch $batch
</code></pre>
<h2 id="un-publishing-a-model-from-a-library">Un-publishing a model from a library</h2>
<p>Un-publishing follows the same pattern as publishing and can be done using the <a href="https://pnp.github.io/powershell/cmdlets/Unpublish-PnPSyntexModel.html">Unpublish-PnPSyntexModel</a> cmdlet either interactively or as batch of multiple un-publish actions.</p>
<h2 id="understanding-where-a-model-is-used">Understanding where a model is used</h2>
<p>Once you've deployed a model to many libraries you might want to review the list of libraries using your model. This can be done using the <a href="https://pnp.github.io/powershell/cmdlets/Get-PnPSyntexModelPublication.html">Get-PnPSyntexModelPublication</a> cmdlet:</p>
<pre><code class="lang-PowerShell">Connect-PnPOnline -Url &quot;https://contoso.sharepoint.com/sites/yourContentCenter&quot;
Get-PnPSyntexModelPublication -Identity &quot;Contract Notice&quot;
</code></pre>
<h2 id="processing-existing-data-in-a-library">Processing existing data in a library</h2>
<p>Imagine the scenario where you've applied a content understanding model to an existing library: from that point on any newly added content is processed via the content understanding model...but existing content is not. To process existing content you can select the file and use the user interface, but you can also use the <a href="https://pnp.github.io/powershell/cmdlets/Request-PnPSyntexClassifyAndExtract.html">Request-PnPSyntexClassifyAndExtract</a> cmdlet:</p>
<pre><code class="lang-PowerShell">#Note: you're connecting here to the site that holds the document library you want to process
Connect-PnPOnline -Url &quot;https://contoso.sharepoint.com/sites/finance&quot;

Request-PnPSyntexClassifyAndExtract -List &quot;Documents&quot;
</code></pre>
<p>The above approach will classify all the the files in the site which where never classified by the model, using <code>-force</code> you can get all files processed again. You can also opt to classify file by file:</p>
<pre><code class="lang-PowerShell">#Note: you're connecting here to the site that holds the document library you want to process
Connect-PnPOnline -Url &quot;https://contoso.sharepoint.com/sites/finance&quot;

Request-PnPSyntexClassifyAndExtract -FileUrl &quot;/sites/finance/documents/contoso contract.docx&quot;
</code></pre>
<p>The file by file model also supports batching:</p>
<pre><code class="lang-PowerShell">#Note: you're connecting here to the site that holds the document library you want to process
Connect-PnPOnline -Url &quot;https://contoso.sharepoint.com/sites/finance&quot;

# Create a new batch
$batch = New-PnPBatch

# Add file classify to the batch
Request-PnPSyntexClassifyAndExtract -FileUrl &quot;/sites/finance/documents/contoso contract.docx&quot; -Batch $batch
Request-PnPSyntexClassifyAndExtract -FileUrl &quot;/sites/finance/documents/relecloud contract.docx&quot; -Batch $batch

# Execute batch
Invoke-PnPBatch -Batch $batch
</code></pre>
<img src="https://pnptelemetry.azurewebsites.net/syntex-samples/docs/deploying models">
</article>
          </div>
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Syntex Samples<br>Generated by <strong><a href='https://dotnet.github.io/docfx' alt='Doc FX Website'>DocFX</a></strong> with <strong><a href='https://ovasquez.github.io/docfx-material' alt='DocFx Material Theme'>Material UI</a></strong></span>
            
          </div>
        </div>
      </footer>    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>  </body>
</html>